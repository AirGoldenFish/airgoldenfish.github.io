---
title: 有意思的SQL
date: 2021-2-9
description: SQL的绕过姿势and各种各样的SQL脑洞
category: 信息安全
tags:
  - CTF
  - Web
  - SQL
---
# 绕过姿势要妖娆
## 绕过空格
`/**/`占位置的正则表达  
`%09`tab  
`%20`空格  
## 绕过等号
`regexp`  
`like`  
`rlike`  
都可以代替等号
## 黑名单
如果是用空字符代替关键字，可以复写关键字，例如用
# 有意思的赛题
## 利用长度截断和mysql_real_escape_string，flag在另外一个库里
  这道题回过头来看是道好题，但是出题真的，猜的部分太多了，耐心有限啊
  
  打开网站是注册页面，那就先注册试试  
  
  输入`name=123`，回显`hello, 123`，好像很正常，但是我们尝试闭合引号，输入`name=123'`,回显`hello, 123\'`  
  
  这就~~很明显~~是`mysql_real_escape_string`函数了，在特殊字符前加`\`进行转义  
  
  然后，我们用用刚刚注册的账号登录，发现会回显password，找到了注入点  
  
  之后我们再尝试发现，对长度有要求，大于30个字符会进行截断  
  
  这里就是纯靠运气了，我赌你的验证代码就是
  ```sql
  $sql = "select * from user where username = '$name' and password='$passowrd'";
  ```
  我们利用30位这个截取，输入`01234567890123456789012345678`
  
  经过转义和截断，就成了`01234567890123456789012345678\`
  
  最后这个`\`，是用于转义`'`时产生的
  
  